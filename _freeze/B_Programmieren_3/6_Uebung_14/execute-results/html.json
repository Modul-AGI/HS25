{
  "hash": "c3ef4b591adb5d1993090bc12020820d",
  "result": {
    "engine": "jupyter",
    "markdown": "---\noutput: false\necho: true                       # set to true to show solution\ncode-fold: true                  # set to true to show solution\ncode-summary: \"Musterlösung\"    \n---\n\n## Übung 14\n\nNun ist es Zeit, dass ihr selbst mit *GeoDataFrames* Hand anlegt. Achtet dabei immer auf die Datentypen eurer Daten (mit `type`) und konsultiert dazu @sec-pythongis-datenstruktur. Zudem ist Geopandas gut dokumentiert, es lohnt ich diese immer wieder zu konsultieren: [geopandas.org](https://geopandas.org)\n\n<!-- % *DataFrame* zu *GeoDataFrame* -->\n## Übung  14.1\n\nImportiere *Geopandas* und wandle `zeckenstiche` in eine *GeoDataFrame* um (`zeckenstiche`). Vergiss nicht, das Koordinatenbezugssystem festzulegen!\n\n::: {#909ce6e8 .cell execution_count=1}\n``` {.python .cell-code}\nimport pandas as pd\nimport geopandas as gpd\n\n# Übung 14.1\nzeckenstiche = pd.read_csv(\"data/zeckenstiche.csv\")\n\ngeom = gpd.points_from_xy(\n  zeckenstiche['x'],    # ↘\n  zeckenstiche['y']     # → die Geometrie Spalte\n  )   \n\nzeckenstiche_gpd = gpd.GeoDataFrame(\n    zeckenstiche,    # die DataFrame (\"Attributtabelle\")\n    geometry = geom, #\n    crs = 2056       # das Koordinatenbezugssystem (EPSG Code)\n)\n```\n:::\n\n\n<!-- % Punkte Buffern -->\n## Übung  14.2\n\nBuffere die Zeckenstiche um eine Distanz von 12 Meter und speichere den Output in der Variabel `zeckenstiche_buffer`. Visualisiere die gebufferten Punkte mit `.explore()`.\n\n::: {#5b611085 .cell execution_count=2}\n``` {.python .cell-code}\nzeckenstiche_buffer = zeckenstiche_gpd.buffer(12)\nzeckenstiche_buffer.explore()\n```\n\n::: {.cell-output .cell-output-error}\n```\nNameError: name 'zeckenstiche_gpd' is not defined\n```\n:::\n:::\n\n\n## Übung  14.3\n\nExtrahiere die Umrisse von `zeckenstiche_buffer` und speichere diese in `zeckenstiche_buffer_outline`. Visualisiere anschliessend diese Umrisse.\n\n::: {#59d21d08 .cell execution_count=3}\n``` {.python .cell-code}\nzeckenstiche_buffer_outline = zeckenstiche_buffer.boundary\n\nzeckenstiche_buffer_outline.explore()\n```\n\n::: {.cell-output .cell-output-error}\n```\nNameError: name 'zeckenstiche_buffer' is not defined\n```\n:::\n:::\n\n\n## Übung  14.4\n\nNutze nachstehenden Code um zwei Datensätze im gleichen Plot darzustellen. \n\n::: {#f526abaf .cell execution_count=4}\n``` {.python .cell-code}\n# Nicht interaktiv:\nfrom matplotlib import pyplot as plt\nfig, ax = plt.subplots()\n\nzeckenstiche_buffer_outline.plot(ax = ax, color = \"green\")\nzeckenstiche_gpd.plot(ax = ax, color = \"pink\")\n```\n\n::: {.cell-output .cell-output-error}\n```\nModuleNotFoundError: No module named 'matplotlib'\n```\n:::\n:::\n\n\n::: {#6ce78867 .cell execution_count=5}\n``` {.python .cell-code}\n# Interaktiv:\nbase = zeckenstiche_buffer_outline.explore(color = \"green\")\nzeckenstiche_gpd.explore(m = base, color = \"pink\")\n```\n\n::: {.cell-output .cell-output-error}\n```\nNameError: name 'zeckenstiche_buffer_outline' is not defined\n```\n:::\n:::\n\n\n<!-- % Envelope -->\n## Übung  14.5\n\nBerechne das \"Envelope\" von `zeckenstiche_gpd` anhand der Beispiele in @sec-raeumliche-operationen. Speichere den Output als `zeckenstiche_envelope`.\n\n:::{.callout-note collapse=\"true\"}\n\nDenk daran, dass du zuerst noch einen Union machen musst (siehe @sec-raeumliche-operationen)\n\n:::\n\n::: {#518198dc .cell execution_count=6}\n``` {.python .cell-code}\nzeckenstiche_envelope = zeckenstiche_gpd.unary_union.envelope\n\nzeckenstiche_envelope\n```\n:::\n\n\n## Übung  14.6\n\nExportiere `zeckenstiche_gpd` als \"Geopackage\" mit dem Namen \"zeckenstiche.gpkg\". Lese nochmal @sec-pythongis-formate wenn du nicht mehr weisst, wie das geht. Versuche anschliessend, \"zeckenstiche.gpkg\" wieder einzulesen.\n\n::: {#848ff6e6 .cell execution_count=7}\n``` {.python .cell-code}\nzeckenstiche.to_file(\"data/zeckenstiche.gpkg\")\n```\n:::\n\n\n",
    "supporting": [
      "6_Uebung_14_files/figure-html"
    ],
    "filters": [],
    "includes": {}
  }
}